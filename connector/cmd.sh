mongo-connector --auto-commit-interval=0  --verbose -n deliflow-code-metrics-dockerv2.codeMetric,deliflow-cd-metrics-docker.pipelineTriggerHistory,deliflow-cd-metrics-docker.pipelineLatestHistoryDto,deliflow-cd-metrics-docker.pipelineHistoryDto --oplog-ts=/data/oplog.ts -m mongo:27017 -t elasticsearch:9200 -d elastic2_doc_manager


bash -c 'export EUREKA_INSTANCE_HOSTNAME=$(curl http://rancher-metadata.rancher.internal/latest/self/container/primary_ip) && echo $EUREKA_INSTANCE_HOSTNAME && PROFILE=${ACTIVE_PROFILE:=docker} && java -Xmx512m -Djava.security.egd=file:/dev/./urandom -cp /lib/*:/lean/java/lib/*:/code-metrics.jar com.thoughtworks.lean.codemetrics.CodeMetricsService --logging.level.sun.net.www.http=DEBUG --quartz.enabled=false --eureka.instance.preferIpAddress=false --spring.profiles.active=$PROFILE --eureka.instance.hostname="$EUREKA_INSTANCE_HOSTNAME" --spring.data.mongodb.uri="mongodb://MongoDB_mongo-cluster_2.rancher.internal:27017,MongoDB_mongo-cluster_1.rancher.internal:27017,MongoDB_mongo-cluster_3.rancher.internal:27017,MongoDB_mongo-cluster_4.rancher.internal:27017/deliflow-code-metrics-dockerv2"'